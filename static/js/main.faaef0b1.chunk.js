(this["webpackJsonpmusical-minesweeper"]=this["webpackJsonpmusical-minesweeper"]||[]).push([[0],{23:function(e,t,n){},39:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),s=n(12),a=n.n(s),l=(n(39),n(5)),o=n(16),r=n(21),d=(n(23),n(8)),u=(n(14),n(2));var j=function(e){var t=e.children,n=e.disabled,i=Object(r.a)(e,["children","disabled"]);return Object(u.jsx)(d.a,{disabled:n,children:Object(u.jsx)("button",Object(o.a)(Object(o.a)({className:"customButton",disabled:n},i),{},{children:t}))})},b=n(9),h=n(68),v=n(20),O=n(69),m=n(66),f=n(30),x=n(7),g=n(67),p=(n(26),n(42),n(44),n(46),n(49),n(53),n(55),Object(g.b)()),w=n(11);function C(e){var t=e.children,n=e.pressed,i=e.id,c=Object(r.a)(e,["children","pressed","id"]);return Object(u.jsx)("td",{children:Object(u.jsx)("button",Object(o.a)(Object(o.a)({className:"gridButton ".concat(n?"pressed":""),id:i},c),{},{children:t}))})}var y={x:null,0:"lightgrey",1:"blue",2:"green",3:"red",4:"purple",5:"maroon",6:"turquoise",7:"black",8:"grey"},S={x:null,0:"",1:"\ud834\udd5d",2:"\ud834\udd5e",3:"\u2669",4:"\u266a",5:"\ud834\udd61",6:"\ud834\udd62",7:"\ud834\udd63",8:"\ud834\udd64"},k=function(e,t,n){for(var i=[],c=0;c<t;c++){i[c]=[];for(var s=0;s<e;s++)i[c][s]=n}return[].concat(i)},N=function(e,t,n){for(var i=k(e,t,0);n>0;){var c=Math.floor(Math.random()*e),s=Math.floor(Math.random()*t);"x"!==i[s][c]&&(i[s][c]="x",n-=1)}for(var a=0;a<t;a++)for(var l=0;l<e;l++){var o,r,d,u,j,b,h,v;if("x"===i[a][l])"number"===typeof(null===(o=i[a-1])||void 0===o?void 0:o[l-1])&&i[a-1][l-1]++,"number"===typeof(null===(r=i[a-1])||void 0===r?void 0:r[l])&&i[a-1][l]++,"number"===typeof(null===(d=i[a-1])||void 0===d?void 0:d[l+1])&&i[a-1][l+1]++,"number"===typeof(null===(u=i[a])||void 0===u?void 0:u[l+1])&&i[a][l+1]++,"number"===typeof(null===(j=i[a+1])||void 0===j?void 0:j[l+1])&&i[a+1][l+1]++,"number"===typeof(null===(b=i[a+1])||void 0===b?void 0:b[l])&&i[a+1][l]++,"number"===typeof(null===(h=i[a+1])||void 0===h?void 0:h[l-1])&&i[a+1][l-1]++,"number"===typeof(null===(v=i[a])||void 0===v?void 0:v[l-1])&&i[a][l-1]++}return Object(w.a)(i)},R=c.a.forwardRef((function(e,t){var n=Object(i.useState)(N(e.width,e.height,e.numMines)),s=Object(l.a)(n,2),a=s[0],o=s[1],r=Object(i.useState)(k(e.width,e.height,0)),d=Object(l.a)(r,2),j=d[0],b=d[1],h=Object(i.useState)(0),v=Object(l.a)(h,2),O=v[0],m=v[1],f=Object(i.useState)(0),x=Object(l.a)(f,2),g=x[0],p=x[1],R=Object(i.useState)(!1),F=Object(l.a)(R,2),M=F[0],G=F[1],D=c.a.useState(!1),I=Object(l.a)(D,2),T=I[0],B=I[1],H=c.a.useState(!1),A=Object(l.a)(H,2),E=A[0],L=A[1],P=e.Congrats,J=e.GameOver,W=e.onStart,Y=e.onEnd,_=e.onReset;a.length!==e.height&&o(N(e.width,e.height,e.numMines)),j.length!==e.height&&b(k(e.width,e.height,0)),c.a.useImperativeHandle(t,(function(){return{newGame:function(){p(0),e.setFlagsCount(0),m(0),o(Object(w.a)(N(e.width,e.height,e.numMines))),b(Object(w.a)(k(e.width,e.height,0))),B(!1),L(!1),_(0,!1),G(!1)},restartGame:function(){p(0),e.setFlagsCount(0),m(0),b(Object(w.a)(k(e.width,e.height,0))),G(!1)},solveGame:function(){p(0),e.setFlagsCount(0),m(0),b(Object(w.a)(k(e.width,e.height,1))),G(!1)}}}));for(var q=function(t,n){if(1!==j[t][n]){if(0===a[t][n]&&z(t,n),"x"===a[t][n])return L(!0),b(Object(w.a)(k(e.width,e.height,1))),void Y();j[t][n]=1;for(var i=0,c=0;c<j.length;c++)for(var s=0;s<j[c].length;s++)1===j[c][s]&&(i+=1);m(i),b(Object(w.a)(j)),i===e.width*e.height-e.numMines&&(B(!0),b(Object(w.a)(k(e.width,e.height,1))),Y())}},z=function(e,t){var n=[[e,t]];for(j[e][t]=1;n.length>0;){var i,c,s,o,r,d,u,b,h,v,O,m,f,x,g,p,w,C,y,S,k,N,R,F,M=Object(l.a)(n[0],2),G=M[0],D=M[1];if((null===(i=a[G-1])||void 0===i?void 0:i[D-1])>=0&&0===(null===(c=j[G-1])||void 0===c?void 0:c[D-1]))j[G-1][D-1]=1,0===(null===(w=a[G-1])||void 0===w?void 0:w[D-1])&&n.push([G-1,D-1]);if((null===(s=a[G-1])||void 0===s?void 0:s[D])>=0&&0===(null===(o=j[G-1])||void 0===o?void 0:o[D]))j[G-1][D]=1,0===(null===(C=a[G-1])||void 0===C?void 0:C[D])&&n.push([G-1,D]);if((null===(r=a[G-1])||void 0===r?void 0:r[D+1])>=0&&0===(null===(d=j[G-1])||void 0===d?void 0:d[D+1]))j[G-1][D+1]=1,0===(null===(y=a[G-1])||void 0===y?void 0:y[D+1])&&n.push([G-1,D+1]);if((null===(u=a[G])||void 0===u?void 0:u[D+1])>=0&&0===(null===(b=j[G])||void 0===b?void 0:b[D+1]))j[G][D+1]=1,0===(null===(S=a[G])||void 0===S?void 0:S[D+1])&&n.push([G,D+1]);if((null===(h=a[G+1])||void 0===h?void 0:h[D+1])>=0&&0===(null===(v=j[G+1])||void 0===v?void 0:v[D+1]))j[G+1][D+1]=1,0===(null===(k=a[G+1])||void 0===k?void 0:k[D+1])&&n.push([G+1,D+1]);if((null===(O=a[G+1])||void 0===O?void 0:O[D])>=0&&0===(null===(m=j[G+1])||void 0===m?void 0:m[D]))j[G+1][D]=1,0===(null===(N=a[G+1])||void 0===N?void 0:N[D])&&n.push([G+1,D]);if((null===(f=a[G+1])||void 0===f?void 0:f[D-1])>=0&&0===(null===(x=j[G+1])||void 0===x?void 0:x[D-1]))j[G+1][D-1]=1,0===(null===(R=a[G+1])||void 0===R?void 0:R[D-1])&&n.push([G+1,D-1]);if((null===(g=a[G])||void 0===g?void 0:g[D-1])>=0&&0===(null===(p=j[G])||void 0===p?void 0:p[D-1]))j[G][D-1]=1,0===(null===(F=a[G])||void 0===F?void 0:F[D-1])&&n.push([G,D-1]);n.shift()}},K=function(e,t){return 0===j[e][t]?"":1===j[e][t]?"number"===typeof a[e][t]?S[a[e][t]]:Object(u.jsx)("img",{src:"https://twemoji.maxcdn.com/v/latest/svg/1f4a3.svg",alt:"mine",width:20,height:20}):2===j[e][t]?Object(u.jsx)("img",{src:"https://twemoji.maxcdn.com/v/latest/svg/1f6a9.svg",alt:"flag",width:20,height:20}):void 0},Q=[],U=function(t){Q[t]=new Array;for(var n=function(n){Q[t].push(Object(u.jsx)(C,{id:t+":"+n,pressed:1===j[t][n],style:{color:0===j[t][n]?"lightgrey":y[a[t][n]]},onClick:function(){M||(G(!0),W()),q(t,n)},onContextMenu:function(i){!function(t,n){0===j[t][n]?(j[t][n]=2,p(++g)):2===j[t][n]&&(j[t][n]=0,p(--g)),e.setFlagsCount(g),b(Object(w.a)(j))}(t,n),i.preventDefault()},children:K(t,n)}))},i=0;i<a[t].length;i++)n(i)},V=0;V<a.length;V++)U(V);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"map ".concat(e.width<16?"small":""),children:[T&&P({revealed:O,close:function(){return B(!1)}}),E&&J({revealed:O,close:function(){return L(!1)}}),Object(u.jsx)("table",{children:Q.map((function(e){return Object(u.jsx)("tr",{children:e})}))})]})})})),F=n(28),M=[{name:"Beginner",rowCount:9,colCount:9,mineCount:10},{name:"Intermediate",rowCount:16,colCount:16,mineCount:40},{name:"Expert",rowCount:16,colCount:30,mineCount:99}],G=Object(i.forwardRef)((function(e,t){var n,s=e.rowCount,a=e.colCount,o=e.mineCount,r=e.openDifficultyDialog,d=e.openHelpDialog,h=Object(i.useState)(0),O=Object(l.a)(h,2),m=O[0],f=O[1],w=Object(i.useRef)(),C=Object(i.useState)(0),y=Object(l.a)(C,2),S=y[0],k=y[1],N=Object(F.useStopwatch)({}),M=N.seconds,G=N.minutes,D=N.hours,I=N.start,T=N.pause,B=N.reset,H=1==M.toString().length?"0".concat(M):M,A=1==G.toString().length?"0".concat(G):G,E=1==D.toString().length?"0".concat(D):D,L="".concat(E,":").concat(A,":").concat(H);c.a.useImperativeHandle(t,(function(){return{newGame:function(){w.current.newGame()},rerender:function(){k(S+1)}}}));var P=function(e){var t=e.revealed;return Object(u.jsxs)("div",{className:"flexRow",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)(x.a,{use:"headline5",children:m}),Object(u.jsx)(x.a,{use:"subtitle2",children:"Flags Placed"})]}),Object(u.jsx)("div",{className:"divider"}),Object(u.jsxs)("div",{children:[Object(u.jsx)(x.a,{use:"headline5",children:L}),Object(u.jsx)(x.a,{use:"subtitle2",children:"Time"})]}),Object(u.jsx)("div",{className:"divider"}),Object(u.jsxs)("div",{children:[Object(u.jsx)(x.a,{use:"headline5",children:t}),Object(u.jsx)(x.a,{use:"subtitle2",children:"Blocks revealed"})]})]})},J={body:"Click 'Start a new match' to make a new game",dismissesOnAction:!0,actions:[{title:"Dismiss"}],leading:!0};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g.a,{messages:p.messages}),Object(u.jsxs)("div",{className:"gameWrapper",children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:"https://twemoji.maxcdn.com/v/latest/svg/1f6a9.svg",className:"icon"}),Object(u.jsx)("div",{children:o-m})]}),Object(u.jsx)("div",{className:"divider"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:"https://twemoji.maxcdn.com/v/latest/svg/1f550.svg",className:"icon"}),Object(u.jsx)("div",{children:L})]}),Object(u.jsx)("div",{className:"spacer"}),Object(u.jsx)(v.a,{icon:"help_outline",label:"Help & controls",onClick:d})]}),Object(u.jsx)(R,{ref:w,height:s||16,width:a||30,numMines:o||99,setFlagsCount:f,onStart:I,onEnd:T,onReset:B,GameOver:function(e){var t,n=e.revealed,i=e.close;return Object(u.jsxs)("div",{className:"banner error",children:[Object(u.jsx)(x.a,{use:"headline4",children:"Game Over"}),Object(u.jsx)(x.a,{use:"subtitle1",children:"You triggered a mine."}),Object(u.jsx)(P,{revealed:n}),Object(u.jsxs)("div",{className:"buttonRow",children:[Object(u.jsx)(b.a,{label:"Review last game",outlined:!0,onClick:function(){p.notify(J),i()}}),Object(u.jsx)(b.a,{label:"Change difficulty",outlined:!0,onClick:r}),Object(u.jsx)(b.a,{label:"New game",unelevated:!0,onClick:null===w||void 0===w||null===(t=w.current)||void 0===t?void 0:t.newGame})]})]})},Congrats:function(e){var t,n=e.revealed,i=e.close;return Object(u.jsxs)("div",{className:"banner error",children:[Object(u.jsx)(x.a,{use:"headline4",children:"Game Completed!"}),Object(u.jsx)(x.a,{use:"subtitle1",children:"You got through the entire map without triggering a mine."}),Object(u.jsx)(P,{revealed:n}),Object(u.jsxs)("div",{className:"buttonRow",children:[Object(u.jsx)(b.a,{label:"Review last game",outlined:!0,onClick:function(){p.notify(J),i()}}),Object(u.jsx)(b.a,{label:"Change difficulty",outlined:!0,onClick:r}),Object(u.jsx)(b.a,{label:"New game",unelevated:!0,onClick:null===w||void 0===w||null===(t=w.current)||void 0===t?void 0:t.newGame})]})]})}}),Object(u.jsxs)("div",{className:"actionRow buttonRow",children:[Object(u.jsxs)(j,{onClick:null===w||void 0===w||null===(n=w.current)||void 0===n?void 0:n.newGame,children:[Object(u.jsx)("span",{className:"material-icons",children:"refresh"}),Object(u.jsx)("span",{children:"Start a new match"})]}),Object(u.jsxs)(j,{onClick:r,children:[Object(u.jsx)("span",{className:"material-icons",children:"tune"}),Object(u.jsx)("span",{children:"Change difficulty"})]})]})]})]})}));var D=function(){var e=Object(i.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(i.useState)(2),a=Object(l.a)(s,2),o=a[0],r=a[1],d=Object(i.useState)(!1),j=Object(l.a)(d,2),b=j[0],v=j[1],g=Object(i.useState)(16),p=Object(l.a)(g,2),w=p[0],C=p[1],y=Object(i.useState)(30),S=Object(l.a)(y,2),k=S[0],N=S[1],R=Object(i.useState)(99),F=Object(l.a)(R,2),D=F[0],I=F[1],T=Object(i.useRef)();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(h.a,{open:n,onClose:function(e){if("change"==e.detail.action){var t,n=M[o];C(n.rowCount),N(n.colCount),I(n.mineCount),null===(t=T.current)||void 0===t||t.rerender(),setTimeout((function(){var e;null===(e=T.current)||void 0===e||e.newGame()}),50)}c(!1)},children:[Object(u.jsx)(h.e,{children:"Change Difficulty"}),Object(u.jsxs)(h.d,{children:[Object(u.jsxs)("p",{children:[Object(u.jsx)("b",{children:"Warning:"})," This will create a new game."]}),Object(u.jsx)(O.a,{twoLine:!0,style:{width:480},children:M.map((function(e,t){return Object(u.jsxs)(m.a,{onClick:function(){return r(t)},children:[Object(u.jsxs)(m.e,{children:[Object(u.jsx)(m.c,{children:e.name}),Object(u.jsxs)(m.d,{children:["Rows: ",e.rowCount," - Columns:"," ",e.colCount," - Mines:"," ",e.mineCount]})]}),Object(u.jsx)(m.b,{children:Object(u.jsx)(f.a,{checked:o===t,readOnly:!0})})]},t)}))})]}),Object(u.jsxs)(h.b,{children:[Object(u.jsx)(h.c,{action:"close",children:"Cancel"}),Object(u.jsx)(h.c,{action:"change",unelevated:!0,children:"Change difficulty"})]})]}),Object(u.jsxs)(h.a,{open:b,onClose:function(e){v(!1)},children:[Object(u.jsx)(h.e,{children:"Info"}),Object(u.jsxs)(h.d,{children:[Object(u.jsx)("p",{children:"Musical Minesweeper, v1.0.0 by RealSGII2."}),Object(u.jsx)("p",{children:"A skin of Minesweeper using musical notes."}),Object(u.jsx)(x.a,{use:"headline5",children:"Main Goal"}),Object(u.jsx)("p",{children:"Clear the entire map except for blocks containing mines underneath them. Flagging is optional, but may be useful."}),Object(u.jsx)(x.a,{use:"headline5",children:"Controls"}),Object(u.jsxs)("p",{children:[Object(u.jsx)("b",{children:"Left mouse button"}),": Reveal a block ",Object(u.jsx)("br",{}),Object(u.jsx)("b",{children:"Right mouse button"}),": Flag a block, again to unflag"]}),Object(u.jsx)(x.a,{use:"headline5",children:"Credits"}),Object(u.jsxs)("p",{children:["Flag, clock, and bomb emoji made by Twitter in the Twemoji project. This website uses ",Object(u.jsx)("a",{href:"https://material.io/",target:"_blank",children:"https://material.io/"})," standards."]})]}),Object(u.jsx)(h.b,{children:Object(u.jsx)(h.c,{action:"close",isDefaultAction:!0,children:"Dismiss"})})]}),Object(u.jsx)(G,{rowCount:w,colCount:k,mineCount:D,openDifficultyDialog:function(){return c(!0)},openHelpDialog:function(){return v(!0)},ref:T})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),i(e),c(e),s(e),a(e)}))};a.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(D,{})}),document.getElementById("root")),I()}},[[57,1,2]]]);
//# sourceMappingURL=main.faaef0b1.chunk.js.map